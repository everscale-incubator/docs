"use strict";(self.webpackChunkeverscale_docs_website=self.webpackChunkeverscale_docs_website||[]).push([[5359],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return m}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),d=p(n),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||i;return n?a.createElement(h,l(l({ref:t},c),{},{components:n})):a.createElement(h,l({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=d;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=n[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},1293:function(e,t,n){n.r(t),n.d(t,{assets:function(){return c},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return o},metadata:function(){return p},toc:function(){return u}});var a=n(3117),r=n(102),i=(n(7294),n(3905)),l=["components"],o={sidebar_position:4},s="Ever Wallet Guide",p={unversionedId:"develop/tutorial/ever-wallet",id:"develop/tutorial/ever-wallet",title:"Ever Wallet Guide",description:"Requirements",source:"@site/../../src/develop/tutorial/ever-wallet.md",sourceDirName:"develop/tutorial",slug:"/develop/tutorial/ever-wallet",permalink:"/docs/PR-297/develop/tutorial/ever-wallet",draft:!1,editUrl:"https://github.com/everscale-org/docs/edit/main/.build/website/../../src/develop/tutorial/ever-wallet.md",tags:[],version:"current",lastUpdatedAt:1666972147,formattedLastUpdatedAt:"Oct 28, 2022",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Everscale Wallet API guide",permalink:"/docs/PR-297/develop/tutorial/ton-wallet-api"},next:{title:"Smart Contracts",permalink:"/docs/PR-297/develop/smart-contracts"}},c={},u=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Build",id:"build",level:2},{value:"Useful links",id:"useful-links",level:2}],d={toc:u};function m(e){var t=e.components,o=(0,r.Z)(e,l);return(0,i.kt)("wrapper",(0,a.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"ever-wallet-guide"},"Ever Wallet Guide"),(0,i.kt)("h2",{id:"requirements"},"Requirements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://nodejs.org/"},"NodeJS")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://webpack.js.org/guides/installation/"},"WebPack")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://www.npmjs.com/"},"npm"))),(0,i.kt)("h2",{id:"installation"},"Installation"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"npm install --save everscale-inpage-provider")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"npm install --save everscale-inpage-provider\n\nadded 166 packages, and audited 167 packages in 10s\n\n21 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n")),(0,i.kt)("p",null,"Clone the repository via the following link: ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/broxus/everscale-inpage-provider"},"https://github.com/broxus/everscale-inpage-provider")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"git clone https://github.com/broxus/everscale-inpage-provider\nCloning into 'everscale-inpage-provider'...\nremote: Enumerating objects: 8313, done.\nremote: Counting objects: 100% (951/951), done.\nremote: Compressing objects: 100% (179/179), done.\nremote: Total 8313 (delta 914), reused 790 (delta 768), pack-reused 7362\nReceiving objects: 100% (8313/8313), 3.36 MiB | 4.16 MiB/s, done.\nResolving deltas: 100% (7429/7429), done.\n")),(0,i.kt)("p",null,"Proceed to the repository that you just cloned."),(0,i.kt)("p",null,"We have the following structure:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/broxus/everscale-inpage-provider/blob/master/src/api.ts"},"src/api.ts"),"\xa0- RPC interface description"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/broxus/everscale-inpage-provider/blob/master/src/models.ts"},"src/models.ts"),"\xa0- general models used in RPC interface"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/broxus/everscale-inpage-provider/blob/master/src/contract.ts"},"src/contract.ts"),"\xa0- typed contracts wrapper"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/broxus/everscale-inpage-provider/blob/master/src/stream.ts"},"src/stream.ts"),"\xa0- user-friendly API for streams"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://github.com/broxus/everscale-inpage-provider/blob/master/src/utils.ts"},"src/utils.ts"),"\xa0- some useful stuff")),(0,i.kt)("h2",{id:"build"},"Build"),(0,i.kt)("p",null,"Let's move further and build our project.",(0,i.kt)("br",{parentName:"p"}),"\n","To do this please perform the following:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"npm install")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("inlineCode",{parentName:"li"},"npm run build"))),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"everscale-inpage-provider> npm install\n\nadded 146 packages, and audited 147 packages in 20s\n\n34 packages are looking for funding\n  run `npm fund` for details\n\nfound 0 vulnerabilities\n\neverscale-inpage-provider> npm run build\n\n> everscale-inpage-provider@0.3.43 build\n> tsc\n")),(0,i.kt)("p",null,"In the\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"dist")," folder we see the result of the build execution:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"dist/api.js"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'"use strict";\nObject.defineProperty(exports, "__esModule", { value: true });\n')),(0,i.kt)("p",null,"Now we need to assemble the project.",(0,i.kt)("br",{parentName:"p"}),"\n","For this we will use\xa0",(0,i.kt)("strong",{parentName:"p"},"webpack.")),(0,i.kt)("p",null,"Please follow ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/ultrasp/ever-js/blob/main/webpack.config.js"},"this link")," for the config of the\xa0webpack."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"const path = require('path');\n\nmodule.exports = {\n  entry: './dist/index.js',\n  output: {\n    filename: 'main.js',\n    path: path.resolve(__dirname, 'dist'),\n  },\n};\n")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"npx webpack --config webpack.config.js")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-shell"},"everscale-inpage-provider> npx webpack --config webpack.config.js\nasset main.js 34.5 KiB [emitted] [minimized] (name: main)\n./dist/index.js 28.8 KiB [built] [code generated]\n./dist/models.js 5.16 KiB [built] [code generated]\n./dist/utils.js 7.21 KiB [built] [code generated]\n./dist/stream.js 25.6 KiB [built] [code generated]\n./dist/contract.js 20.4 KiB [built] [code generated]\n./dist/api.js 79 bytes [built] [code generated]\n\nWARNING in configuration\nThe 'mode' option has not been set, webpack will fallback to 'production' for this value.\nSet 'mode' option to 'development' or 'production' to enable defaults for each environment.\nYou can also set it to 'none' to disable any default behavior. Learn more: https://webpack.js.org/configuration/mode/\n\nwebpack 5.74.0 compiled with 1 warning in 1462 ms\n")),(0,i.kt)("p",null,"We see the\xa0main.js file.\xa0it will be used for the purpose of our project.",(0,i.kt)("br",{parentName:"p"}),"\n","Let's create a simple page and connect our file to it:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"dist/index.html"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-html"},'<!DOCTYPE html>\n<html>\n  <head>\n    <meta charset="utf-8" />\n    <title>Getting Started</title>\n  </head>\n  <body>\n    <span id="Address"></span>\n    <span id="Error"></span>\n    <div>\n      <button type="button" id="connect">Connect</button>\n      <button type="button" id="getBalance">Get balance</button>\n    </div>\n    <span></span>\n    <script src="main.js?ver=1"><\/script>\n  </body>\n</html>\n')),(0,i.kt)("p",null,"In this article we will take ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bogacheff/ever-js/blob/main/src/index.js"},"https://github.com/bogacheff/ever-js/blob/main/src/index.js")),(0,i.kt)("p",null,"Now, let's create a simple page where we initialize the Ever Wallet extension.",(0,i.kt)("br",{parentName:"p"}),"\n","Then, check whether it is installed and display the wallet balance on the screen."),(0,i.kt)("p",null,"The\xa0",(0,i.kt)("strong",{parentName:"p"},"Connect"),"\xa0button initializes the wallet connection on our page.",(0,i.kt)("br",{parentName:"p"}),"\n","In the picture below you can see the address of our wallet."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(7725).Z,width:"1782",height:"696"})),(0,i.kt)("p",null,"The function responsible for this is\xa0",(0,i.kt)("strong",{parentName:"p"},"async"),".",(0,i.kt)("br",{parentName:"p"}),"\n","It checks whether there is an extension in the browser and, if so, displays the wallet address on the screen."),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"src/index.ts"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"connect: async function () {\n\n    const ever = this.ever()\n    if (!(await ever.hasProvider())) {\n        this.connectInfo.errorMessage = 'Extension Ever is not installed';\n      return this.connectInfo;\n    }\n\n    const { accountInteraction } = await ever.requestPermissions({\n      permissions: ['basic', 'accountInteraction'],\n    })\n\n    if (accountInteraction == null) {\n        this.connectInfo.errorMessage = 'Insufficient permissions'\n      return this.connectInfo;\n    }\n    this.connectInfo.hasError = false;\n    this.connectInfo.address = accountInteraction.address.toString()\n    return this.connectInfo\n  },\n")),(0,i.kt)("p",null,"To conclude, let's try to initialize the\xa0",(0,i.kt)("inlineCode",{parentName:"p"},"getBalance"),"\xa0method."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"getBalance: async function () {    \n    const ever = this.ever()\n    if(this.connectInfo.hasError){\n        return 0;\n    }\n    const { state } = await ever.getFullContractState({\n      address: this.connectInfo.address,\n    })\n    let balance = state ? parseFloat(utils.formatUnits(state.balance)) : 0\n    alert('Balance: '+balance)\n  },\n}\n")),(0,i.kt)("p",null,"Detailed documentation of the method can be found at ",(0,i.kt)("a",{parentName:"p",href:"https://broxus.github.io/everscale-inpage-provider/classes/ProviderRpcClient.html#getBalance"},"this link"),".",(0,i.kt)("br",{parentName:"p"}),"\n","We see on the screen that we have received the balance of our wallet."),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(621).Z,width:"1776",height:"320"})),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Congratulations!"),(0,i.kt)("br",{parentName:"p"}),"\n","You have created the first application that works with web3 and the Ever Wallet extension."),(0,i.kt)("p",null,"Now you are capable of creating more difficult applications."),(0,i.kt)("h2",{id:"useful-links"},"Useful links"),(0,i.kt)("p",null,"You can consult the documentation via the following link:\n",(0,i.kt)("a",{parentName:"p",href:"https://broxus.github.io/everscale-inpage-provider/"},"https://broxus.github.io/everscale-inpage-provider/")),(0,i.kt)("p",null,"The repo with our project can be found via this link:\n",(0,i.kt)("a",{parentName:"p",href:"https://github.com/bogacheff/ever-js/"},"https://github.com/bogacheff/ever-js/")),(0,i.kt)("p",null,"An example of a working application can be found via this link:\n",(0,i.kt)("a",{parentName:"p",href:"https://wallet.applantis.us/dist/"},"https://wallet.applantis.us/dist/")))}m.isMDXComponent=!0},7725:function(e,t,n){t.Z=n.p+"assets/images/1-dd327b5bea7ae881a6b295b3854ab45c.png"},621:function(e,t,n){t.Z=n.p+"assets/images/2-0416f8e57af1c0617d5a68a86963f00e.png"}}]);